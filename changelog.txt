Fix wrong condition "Only set cache on cacheless CacheableiVal objects"
Update optional deps
